# CSA-lab3
Лабораторная работа №3. На кончиках пальцев.\
[отчет](report.md)

Цель:

экспериментальное знакомство с устройством процессоров через моделирование;
получение опыта работы с компьютерной системой на нескольких уровнях организации, разрешая противоречия между ними.

Данная лабораторная работа носит практический характер. Она включает разработку:

языка программирования и транслятора;
системы команд;
модели процессора и его принципиальной схемы;
нескольких алгоритмов (реализация и тестирование работы).

Дополнительно:

работа с CI;
средства автоматического контроля качества кода;
автоматическое тестирование.


## Вариант

`lisp | acc | harv | hw | instr | struct | stream | mem | pstr | prob5 | [4]char`

- Язык программирования: lisp
  - Синтаксис лиспа(S-exp)
  - требуется поддержка функций и/или процедур
  - Любое выражение (statement) -- expression
- Архитекстура: acc
  - система команд должна быть выстроена вокруг аккумулятора.
  - Инструкции -- изменяют значение, хранимое в аккумуляторе.
  - Ввод-вывод осуществляется через аккумулятор.
- Организация памяти: harv
  - Гарвардская архитектура. (однопоточная память)
- Control Unit: hw
  - hardwired. Реализуется как часть модели.
- Точность модели: instr
  - процессор необходимо моделировать с точностью до каждой инструкции (наблюдается состояние после каждой инструкции).
- Представление машиннного кода: struct
  - в виде высокоуровневой структуры данных. Считается, что одна инструкция укладывается в одно машинное слово
- Ввод-вывод: stream
  - Ввод-вывод осуществляется как поток токенов. Есть в примере. Логика работы:
    - при старте модели у вас есть буфер, в котором представлены все данные ввода (['h', 'e', 'l', 'l', 'o']);
    - при обращении к вводу (выполнение инструкции) модель процессора получает "токен" (символ) информации;
    - если данные в буфере кончились -- останавливайте моделирование;
    - вывод данных реализуется аналогично, по выполнении команд в буфер вывода добавляется ещё один символ;
    - по окончании моделирования показать все выведенные данные;
    - логика работы с буфером реализуется в рамках модели на Python.
- Поддержка строк: pstr
  - Length-prefixed (Pascal string)
  - Статические строки должны храниться в памяти данных.
  - Один символ может храниться в одном машинном слове (несмотря на явную неэффективность).
- prob5. Smallest multiple
  - 2520 is the smallest number that can be divided by each of the numbers from 1 to 10 without any remainder.
  - What is the smallest positive number that is evenly divisible by all of the numbers from 1 to 20?
- Усложнение
  - [4]char -- машинное слово хранит до 4 символов.
    - ввод-вывод по-прежнему остаётся посимвольным.

